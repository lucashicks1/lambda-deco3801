{
  "openapi": "3.1.0",
  "info": {
    "title": "Lambda DB Handler",
    "version": "0.1.0"
  },
  "paths": {
    "/figurines": {
      "get": {
        "tags": [
          "Figurines"
        ],
        "summary": "Gets map of all users and their availability for that timeslot. 1 represents busy, 0 represents free",
        "operationId": "get_available_figurines_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Available Figurines Get",
                  "examples": [
                    {
                      "user_1": 0,
                      "user_2": 1,
                      "user_3": 0,
                      "user_4": 3
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/whiteboard/{user}": {
      "post": {
        "tags": [
          "Whiteboard"
        ],
        "summary": "Modify Calendar",
        "operationId": "modify_calendar_whiteboard__user__post",
        "parameters": [
          {
            "name": "user",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/WhiteboardRequest"
                  }
                ],
                "examples": [
                  {
                    "body": [
                      {
                        "day": "monday",
                        "time_slot": 0,
                        "data": "captured text"
                      },
                      {
                        "day": "tuesday",
                        "time_slot": 0,
                        "data": "text"
                      }
                    ]
                  }
                ],
                "title": "Payload"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "examples": [
                    {
                      "body": [
                        {
                          "day": "monday",
                          "time": "00:00",
                          "slot_num": 0,
                          "booked_users": [
                            "user_2",
                            "user_3",
                            "user_1"
                          ]
                        },
                        {
                          "day": "tuesday",
                          "time": "00:00",
                          "slot_num": 0,
                          "booked_users": [
                            "user_1"
                          ]
                        }
                      ]
                    }
                  ],
                  "title": "Response Modify Calendar Whiteboard  User  Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/display/user-totals": {
      "get": {
        "tags": [
          "Display"
        ],
        "summary": "Get User Hours",
        "operationId": "get_user_hours_display_user_totals_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get User Hours Display User Totals Get",
                  "examples": [
                    {
                      "user_1": 81.5,
                      "user_2": 85.25,
                      "user_3": 84.75,
                      "user_4": 79
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/display/family-timeslots": {
      "get": {
        "tags": [
          "Display"
        ],
        "summary": "Get Family Timeslots",
        "operationId": "get_family_timeslots_display_family_timeslots_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Family Timeslots Display Family Timeslots Get",
                  "examples": [
                    {
                      "body": [
                        {
                          "day": "monday",
                          "time": "14:00",
                          "slot_num": 56,
                          "booked_users": [
                            "family",
                            "user_2"
                          ]
                        },
                        {
                          "day": "monday",
                          "time": "14:15",
                          "slot_num": 57,
                          "booked_users": [
                            "family"
                          ]
                        },
                        {
                          "day": "monday",
                          "time": "14:30",
                          "slot_num": 58,
                          "booked_users": [
                            "family"
                          ]
                        },
                        {
                          "day": "monday",
                          "time": "14:45",
                          "slot_num": 59,
                          "booked_users": [
                            "family"
                          ]
                        },
                        {
                          "day": "tuesday",
                          "time": "15:00",
                          "slot_num": 60,
                          "booked_users": [
                            "family",
                            "user_2"
                          ]
                        }
                      ]
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/display/user-free-timeslots": {
      "get": {
        "tags": [
          "Display"
        ],
        "summary": "Gets the timeslots that have a certain number of free users. Each slot is sorted in descending order in terms of how many people are free during it",
        "operationId": "get_free_timeslots_display_user_free_timeslots_get",
        "parameters": [
          {
            "name": "min_num_users",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 4,
              "minimum": 0,
              "title": "The minimum number of available users",
              "default": 4
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "examples": [
                    {
                      "body": [
                        {
                          "day": "monday",
                          "time": "08:00",
                          "slot_num": 32,
                          "booked_users": [],
                          "num_free_users": 4
                        },
                        {
                          "day": "monday",
                          "time": "08:15",
                          "slot_num": 33,
                          "booked_users": [],
                          "num_free_users": 4
                        },
                        {
                          "day": "monday",
                          "time": "08:30",
                          "slot_num": 34,
                          "booked_users": [],
                          "num_free_users": 4
                        },
                        {
                          "day": "tuesday",
                          "time": "14:30",
                          "slot_num": 58,
                          "booked_users": [
                            "user_1"
                          ],
                          "num_free_users": 3
                        },
                        {
                          "day": "tuesday",
                          "time": "14:45",
                          "slot_num": 59,
                          "booked_users": [
                            "user_1"
                          ],
                          "num_free_users": 3
                        }
                      ]
                    }
                  ],
                  "title": "Response Get Free Timeslots Display User Free Timeslots Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "summary": "Default landing page which will redirect you to the docs",
        "operationId": "main__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/reset": {
      "get": {
        "summary": "Resets the state of the database",
        "operationId": "reset_reset_get",
        "parameters": [
          {
            "name": "reset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Reset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/dump": {
      "get": {
        "summary": "DUMPS THE MONGODB FOR TESTING",
        "operationId": "dump_dump_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "TimeSlot": {
        "properties": {
          "day": {
            "type": "string",
            "enum": [
              "monday",
              "tuesday",
              "wednesday",
              "thursday",
              "friday",
              "saturday",
              "sunday"
            ],
            "title": "Day"
          },
          "time_slot": {
            "type": "integer",
            "title": "Time Slot"
          },
          "data": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Data"
          }
        },
        "type": "object",
        "required": [
          "day",
          "time_slot"
        ],
        "title": "TimeSlot"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "WhiteboardRequest": {
        "properties": {
          "body": {
            "items": {
              "$ref": "#/components/schemas/TimeSlot"
            },
            "type": "array",
            "title": "Body"
          }
        },
        "type": "object",
        "required": [
          "body"
        ],
        "title": "WhiteboardRequest"
      }
    }
  },
  "tags": [
    {
      "name": "Display",
      "description": "All endpoints used by the family display"
    },
    {
      "name": "Figurines",
      "description": "All endpoints used by the figurines display"
    },
    {
      "name": "Whiteboard",
      "description": "All endpoints used by the lambda board"
    }
  ]
}